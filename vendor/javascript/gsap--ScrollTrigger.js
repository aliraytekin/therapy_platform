// gsap/ScrollTrigger@3.13.0 downloaded from https://ga.jspm.io/npm:gsap@3.13.0/ScrollTrigger.js

import{_getProxyProp as e,_proxies as t,_vertical as r,_scrollers as n,_horizontal as i,_getTarget as o,_getScrollFunc as a,Observer as s,_getVelocityProp as l}from"./Observer.js";
/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var u,f,c,p,d,h,g,v,m,y,b,x,w,_,C,S,k,T,E,P,A,M,O,R,z,B,I,N,D,F,H,W,Y,L,q,U,V,X,j=1,G=Date.now,K=G(),Z=0,$=0,J=function(e,t,r){var n=he(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);r["_"+t+"Clamp"]=n;return n?e.substr(6,e.length-7):e},Q=function(e,t){return!t||he(e)&&e.substr(0,6)==="clamp("?e:"clamp("+e+")"},ee=function e(){return $&&requestAnimationFrame(e)},te=function(){return _=1},re=function(){return _=0},ne=function(e){return e},ie=function(e){return Math.round(e*1e5)/1e5||0},oe=function(){return typeof window!=="undefined"},ae=function(){return u||oe()&&(u=window.gsap)&&u.registerPlugin&&u},se=function(e){return!!~g.indexOf(e)},le=function(e){return(e==="Height"?H:c["inner"+e])||d["client"+e]||h["client"+e]},ue=function(t){return e(t,"getBoundingClientRect")||(se(t)?function(){Ot.width=c.innerWidth;Ot.height=H;return Ot}:function(){return He(t)})},fe=function(t,r,n){var i=n.d,o=n.d2,a=n.a;return(a=e(t,"getBoundingClientRect"))?function(){return a()[i]}:function(){return(r?le(o):t["client"+o])||0}},ce=function(e,r){return!r||~t.indexOf(e)?ue(e):function(){return Ot}},pe=function(t,r){var n=r.s,i=r.d2,o=r.d,a=r.a;return Math.max(0,(n="scroll"+i)&&(a=e(t,n))?a()-ue(t)()[o]:se(t)?(d[n]||h[n])-le(i):t[n]-t["offset"+i])},de=function(e,t){for(var r=0;r<E.length;r+=3)(!t||~t.indexOf(E[r+1]))&&e(E[r],E[r+1],E[r+2])},he=function(e){return typeof e==="string"},ge=function(e){return typeof e==="function"},ve=function(e){return typeof e==="number"},me=function(e){return typeof e==="object"},ye=function(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()},be=function(e,t){if(e.enabled){var r=e._ctx?e._ctx.add((function(){return t(e)})):t(e);r&&r.totalTime&&(e.callbackAnimation=r)}},xe=Math.abs,we="left",_e="top",Ce="right",Se="bottom",ke="width",Te="height",Ee="Right",Pe="Left",Ae="Top",Me="Bottom",Oe="padding",Re="margin",ze="Width",Be="Height",Ie="px",Ne=function(e){return c.getComputedStyle(e)},De=function(e){var t=Ne(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},Fe=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},He=function(e,t){var r=t&&Ne(e)[C]!=="matrix(1, 0, 0, 1, 0, 0)"&&u.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();r&&r.progress(0).kill();return n},We=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},Ye=function(e){var t,r=[],n=e.labels,i=e.duration();for(t in n)r.push(n[t]/i);return r},Le=function(e){return function(t){return u.utils.snap(Ye(e),t)}},qe=function(e){var t=u.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort((function(e,t){return e-t}));return r?function(e,n,i){i===void 0&&(i=.001);var o;if(!n)return t(e);if(n>0){e-=i;for(o=0;o<r.length;o++)if(r[o]>=e)return r[o];return r[o-1]}o=r.length;e+=i;while(o--)if(r[o]<=e)return r[o];return r[0]}:function(r,n,i){i===void 0&&(i=.001);var o=t(r);return!n||Math.abs(o-r)<i||o-r<0===n<0?o:t(n<0?r-e:r+e)}},Ue=function(e){return function(t,r){return qe(Ye(e))(t,r.direction)}},Ve=function(e,t,r,n){return r.split(",").forEach((function(r){return e(t,r,n)}))},Xe=function(e,t,r,n,i){return e.addEventListener(t,r,{passive:!n,capture:!!i})},je=function(e,t,r,n){return e.removeEventListener(t,r,!!n)},Ge=function(e,t,r){r=r&&r.wheelHandler;if(r){e(t,"wheel",r);e(t,"touchmove",r)}},Ke={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Ze={toggleActions:"play",anticipatePin:0},$e={top:0,left:0,center:.5,bottom:1,right:1},Je=function(e,t){if(he(e)){var r=e.indexOf("="),n=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;if(~r){e.indexOf("%")>r&&(n*=t/100);e=e.substr(0,r-1)}e=n+(e in $e?$e[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Qe=function(t,n,i,o,a,s,l,u){var f=a.startColor,c=a.endColor,d=a.fontSize,g=a.indent,v=a.fontWeight;var m=p.createElement("div"),y=se(i)||e(i,"pinType")==="fixed",b=t.indexOf("scroller")!==-1,x=y?h:i,w=t.indexOf("start")!==-1,_=w?f:c,C="border-color:"+_+";font-size:"+d+";color:"+_+";font-weight:"+v+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";C+="position:"+((b||u)&&y?"fixed;":"absolute;");(b||u||!y)&&(C+=(o===r?Ce:Se)+":"+(s+parseFloat(g))+"px;");l&&(C+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;");m._isStart=w;m.setAttribute("class","gsap-marker-"+t+(n?" marker-"+n:""));m.style.cssText=C;m.innerText=n||n===0?t+"-"+n:t;x.children[0]?x.insertBefore(m,x.children[0]):x.appendChild(m);m._offset=m["offset"+o.op.d2];et(m,0,o,w);return m},et=function(e,t,r,n){var i={display:"block"},o=r[n?"os2":"p2"],a=r[n?"p2":"os2"];e._isFlipped=n;i[r.a+"Percent"]=n?-100:0;i[r.a]=n?"1px":0;i["border"+o+ze]=1;i["border"+a+ze]=0;i[r.p]=t+"px";u.set(e,i)},tt=[],rt={},nt=function(){return G()-Z>34&&(q||(q=requestAnimationFrame(_t)))},it=function(){if(!O||!O.isPressed||O.startX>h.clientWidth){n.cache++;O?q||(q=requestAnimationFrame(_t)):_t();Z||ft("scrollStart");Z=G()}},ot=function(){B=c.innerWidth;z=c.innerHeight},at=function(e){n.cache++;(e===true||!w&&!M&&!p.fullscreenElement&&!p.webkitFullscreenElement&&(!R||B!==c.innerWidth||Math.abs(c.innerHeight-z)>c.innerHeight*.25))&&v.restart(true)},st={},lt=[],ut=function e(){return je(Ft,"scrollEnd",e)||bt(true)},ft=function(e){return st[e]&&st[e].map((function(e){return e()}))||lt},ct=[],pt=function(e){for(var t=0;t<ct.length;t+=5)if(!e||ct[t+4]&&ct[t+4].query===e){ct[t].style.cssText=ct[t+1];ct[t].getBBox&&ct[t].setAttribute("transform",ct[t+2]||"");ct[t+3].uncache=1}},dt=function(e,t){var r;for(S=0;S<tt.length;S++){r=tt[S];!r||t&&r._ctx!==t||(e?r.kill(1):r.revert(true,true))}W=true;t&&pt(t);t||ft("revert")},ht=function(e,t){n.cache++;(t||!U)&&n.forEach((function(e){return ge(e)&&e.cacheID++&&(e.rec=0)}));he(e)&&(c.history.scrollRestoration=D=e)},gt=0,vt=function(){if(V!==gt){var e=V=gt;requestAnimationFrame((function(){return e===gt&&bt(true)}))}},mt=function(){h.appendChild(F);H=!O&&F.offsetHeight||c.innerHeight;h.removeChild(F)},yt=function(e){return m(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((function(t){return t.style.display=e?"none":"block"}))},bt=function(e,t){d=p.documentElement;h=p.body;g=[c,p,d,h];if(!Z||e||W){mt();U=Ft.isRefreshing=true;n.forEach((function(e){return ge(e)&&++e.cacheID&&(e.rec=e())}));var r=ft("refreshInit");P&&Ft.sort();t||dt();n.forEach((function(e){if(ge(e)){e.smooth&&(e.target.style.scrollBehavior="auto");e(0)}}));tt.slice(0).forEach((function(e){return e.refresh()}));W=false;tt.forEach((function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",r=e.pin[t];e.revert(true,1);e.adjustPinSpacing(e.pin[t]-r);e.refresh()}}));Y=1;yt(true);tt.forEach((function(e){var t=pe(e.scroller,e._dir),r=e.vars.end==="max"||e._endClamp&&e.end>t,n=e._startClamp&&e.start>=t;(r||n)&&e.setPositions(n?t-1:e.start,r?Math.max(n?t:e.start+1,t):e.end,true)}));yt(false);Y=0;r.forEach((function(e){return e&&e.render&&e.render(-1)}));n.forEach((function(e){if(ge(e)){e.smooth&&requestAnimationFrame((function(){return e.target.style.scrollBehavior="smooth"}));e.rec&&e(e.rec)}}));ht(D,1);v.pause();gt++;U=2;_t(2);tt.forEach((function(e){return ge(e.vars.onRefresh)&&e.vars.onRefresh(e)}));U=Ft.isRefreshing=false;ft("refresh")}else Xe(Ft,"scrollEnd",ut)},xt=0,wt=1,_t=function(e){if(e===2||!U&&!W){Ft.isUpdating=true;X&&X.update(0);var t=tt.length,r=G(),n=r-K>=50,i=t&&tt[0].scroll();wt=xt>i?-1:1;U||(xt=i);if(n){if(Z&&!_&&r-Z>200){Z=0;ft("scrollEnd")}b=K;K=r}if(wt<0){S=t;while(S-- >0)tt[S]&&tt[S].update(0,n);wt=1}else for(S=0;S<t;S++)tt[S]&&tt[S].update(0,n);Ft.isUpdating=false}q=0},Ct=[we,_e,Se,Ce,Re+Me,Re+Ee,Re+Ae,Re+Pe,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],St=Ct.concat([ke,Te,"boxSizing","max"+ze,"max"+Be,"position",Re,Oe,Oe+Ae,Oe+Ee,Oe+Me,Oe+Pe]),kt=function(e,t,r){Pt(r);var n=e._gsap;if(n.spacerIsNative)Pt(n.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;if(i){i.insertBefore(e,t);i.removeChild(t)}}e._gsap.swappedIn=false},Tt=function(e,t,n,o){if(!e._gsap.swappedIn){var a,s=Ct.length,l=t.style,u=e.style;while(s--){a=Ct[s];l[a]=n[a]}l.position=n.position==="absolute"?"absolute":"relative";n.display==="inline"&&(l.display="inline-block");u[Se]=u[Ce]="auto";l.flexBasis=n.flexBasis||"auto";l.overflow="visible";l.boxSizing="border-box";l[ke]=We(e,i)+Ie;l[Te]=We(e,r)+Ie;l[Oe]=u[Re]=u[_e]=u[we]="0";Pt(o);u[ke]=u["max"+ze]=n[ke];u[Te]=u["max"+Be]=n[Te];u[Oe]=n[Oe];if(e.parentNode!==t){e.parentNode.insertBefore(t,e);t.appendChild(e)}e._gsap.swappedIn=true}},Et=/([A-Z])/g,Pt=function(e){if(e){var t,r,n=e.t.style,i=e.length,o=0;(e.t._gsap||u.core.getCache(e.t)).uncache=1;for(;o<i;o+=2){r=e[o+1];t=e[o];r?n[t]=r:n[t]&&n.removeProperty(t.replace(Et,"-$1").toLowerCase())}}},At=function(e){var t=St.length,r=e.style,n=[],i=0;for(;i<t;i++)n.push(St[i],r[St[i]]);n.t=e;return n},Mt=function(e,t,r){var n,i=[],o=e.length,a=r?8:0;for(;a<o;a+=2){n=e[a];i.push(n,n in t?t[n]:e[a+1])}i.t=e.t;return i},Ot={left:0,top:0},Rt=function(e,t,r,n,i,a,s,l,f,c,p,g,v,m){ge(e)&&(e=e(l));he(e)&&e.substr(0,3)==="max"&&(e=g+(e.charAt(4)==="="?Je("0"+e.substr(3),r):0));var y,b,x,w=v?v.time():0;v&&v.seek(0);isNaN(e)||(e=+e);if(ve(e)){v&&(e=u.utils.mapRange(v.scrollTrigger.start,v.scrollTrigger.end,0,g,e));s&&et(s,r,n,true)}else{ge(t)&&(t=t(l));var _,C,S,k,T=(e||"0").split(" ");x=o(t,l)||h;_=He(x)||{};if((!_||!_.left&&!_.top)&&Ne(x).display==="none"){k=x.style.display;x.style.display="block";_=He(x);k?x.style.display=k:x.style.removeProperty("display")}C=Je(T[0],_[n.d]);S=Je(T[1]||"0",r);e=_[n.p]-f[n.p]-c+C+i-S;s&&et(s,S,n,r-S<20||s._isStart&&S>20);r-=r-S}if(m){l[m]=e||-.001;e<0&&(e=0)}if(a){var E=e+r,P=a._isStart;y="scroll"+n.d2;et(a,E,n,P&&E>20||!P&&(p?Math.max(h[y],d[y]):a.parentNode[y])<=E+1);if(p){f=He(s);p&&(a.style[n.op.p]=f[n.op.p]-n.op.m-a._offset+Ie)}}if(v&&x){y=He(x);v.seek(g);b=He(x);v._caScrollDist=y[n.p]-b[n.p];e=e/v._caScrollDist*g}v&&v.seek(w);return v?e:Math.round(e)},zt=/(webkit|moz|length|cssText|inset)/i,Bt=function(e,t,r,n){if(e.parentNode!==t){var i,o,a=e.style;if(t===h){e._stOrig=a.cssText;o=Ne(e);for(i in o)+i||zt.test(i)||!o[i]||typeof a[i]!=="string"||i==="0"||(a[i]=o[i]);a.top=r;a.left=n}else a.cssText=e._stOrig;u.core.getCache(e).uncache=1;t.appendChild(e)}},It=function(e,t,r){var n=t,i=n;return function(t){var o=Math.round(e());if(o!==n&&o!==i&&Math.abs(o-n)>3&&Math.abs(o-i)>3){t=o;r&&r()}i=n;n=Math.round(t);return n}},Nt=function(e,t,r){var n={};n[t.p]="+="+r;u.set(e,n)},Dt=function(e,t){var r=a(e,t),i="_scroll"+t.p2,o=function t(o,a,s,l,f){var c=t.tween,p=a.onComplete,d={};s=s||r();var h=It(r,s,(function(){c.kill();t.tween=0}));f=l&&f||0;l=l||o-s;c&&c.kill();a[i]=o;a.inherit=false;a.modifiers=d;d[i]=function(){return h(s+l*c.ratio+f*c.ratio*c.ratio)};a.onUpdate=function(){n.cache++;t.tween&&_t()};a.onComplete=function(){t.tween=0;p&&p.call(c)};c=t.tween=u.to(e,a);return c};e[i]=r;r.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)};Xe(e,"wheel",r.wheelHandler);Ft.isTouch&&Xe(e,"touchmove",r.wheelHandler);return o};var Ft=function(){function l(e,t){f||l.register(u)||console.warn("Please gsap.registerPlugin(ScrollTrigger)");N(this);this.init(e,t)}var O=l.prototype;O.init=function(s,f){this.progress=this.start=0;this.vars&&this.kill(true,true);if($){s=Fe(he(s)||ve(s)||s.nodeType?{trigger:s}:s,Ze);var g,v,x,C,k,T,E,M,O,R,z,B,I,N,D,F,H,W,q,V,K,ee,te,re,oe,ae,le,ue,de,we,_e,Ce,Se,Ye,Ve,Ge,$e,et,nt,ot=s,st=ot.onUpdate,lt=ot.toggleClass,ft=ot.id,ct=ot.onToggle,pt=ot.onRefresh,dt=ot.scrub,ht=ot.trigger,gt=ot.pin,mt=ot.pinSpacing,yt=ot.invalidateOnRefresh,bt=ot.anticipatePin,xt=ot.onScrubComplete,_t=ot.onSnapComplete,Ct=ot.once,St=ot.snap,Et=ot.pinReparent,Ot=ot.pinSpacer,zt=ot.containerAnimation,It=ot.fastScrollEnd,Ft=ot.preventOverlaps,Ht=s.horizontal||s.containerAnimation&&s.horizontal!==false?i:r,Wt=!dt&&dt!==0,Yt=o(s.scroller||c),Lt=u.core.getCache(Yt),qt=se(Yt),Ut=("pinType"in s?s.pinType:e(Yt,"pinType")||qt&&"fixed")==="fixed",Vt=[s.onEnter,s.onLeave,s.onEnterBack,s.onLeaveBack],Xt=Wt&&s.toggleActions.split(" "),jt="markers"in s?s.markers:Ze.markers,Gt=qt?0:parseFloat(Ne(Yt)["border"+Ht.p2+ze])||0,Kt=this,Zt=s.onRefreshInit&&function(){return s.onRefreshInit(Kt)},$t=fe(Yt,qt,Ht),Jt=ce(Yt,qt),Qt=0,er=0,tr=0,rr=a(Yt,Ht);Kt._startClamp=Kt._endClamp=false;Kt._dir=Ht;bt*=45;Kt.scroller=Yt;Kt.scroll=zt?zt.time.bind(zt):rr;C=rr();Kt.vars=s;f=f||s.animation;if("refreshPriority"in s){P=1;s.refreshPriority===-9999&&(X=Kt)}Lt.tweenScroll=Lt.tweenScroll||{top:Dt(Yt,r),left:Dt(Yt,i)};Kt.tweenTo=g=Lt.tweenScroll[Ht.p];Kt.scrubDuration=function(e){Se=ve(e)&&e;if(Se)Ce?Ce.duration(e):Ce=u.to(f,{ease:"expo",totalProgress:"+=0",inherit:false,duration:Se,paused:true,onComplete:function(){return xt&&xt(Kt)}});else{Ce&&Ce.progress(1).kill();Ce=0}};if(f){f.vars.lazy=false;f._initted&&!Kt.isReverted||f.vars.immediateRender!==false&&s.immediateRender!==false&&f.duration()&&f.render(0,true,true);Kt.animation=f.pause();f.scrollTrigger=Kt;Kt.scrubDuration(dt);we=0;ft||(ft=f.vars.id)}if(St){me(St)&&!St.push||(St={snapTo:St});"scrollBehavior"in h.style&&u.set(qt?[h,d]:Yt,{scrollBehavior:"auto"});n.forEach((function(e){return ge(e)&&e.target===(qt?p.scrollingElement||d:Yt)&&(e.smooth=false)}));x=ge(St.snapTo)?St.snapTo:St.snapTo==="labels"?Le(f):St.snapTo==="labelsDirectional"?Ue(f):St.directional!==false?function(e,t){return qe(St.snapTo)(e,G()-er<500?0:t.direction)}:u.utils.snap(St.snapTo);Ye=St.duration||{min:.1,max:2};Ye=me(Ye)?y(Ye.min,Ye.max):y(Ye,Ye);Ve=u.delayedCall(St.delay||Se/2||.1,(function(){var e=rr(),t=G()-er<500,r=g.tween;if(!(t||Math.abs(Kt.getVelocity())<10)||r||_||Qt===e)Kt.isActive&&Qt!==e&&Ve.restart(true);else{var n,i,o=(e-T)/N,a=f&&!Wt?f.totalProgress():o,s=t?0:(a-_e)/(G()-b)*1e3||0,l=u.utils.clamp(-o,1-o,xe(s/2)*s/.185),c=o+(St.inertia===false?0:l),p=St,d=p.onStart,h=p.onInterrupt,v=p.onComplete;n=x(c,Kt);ve(n)||(n=c);i=Math.max(0,Math.round(T+n*N));if(e<=E&&e>=T&&i!==e){if(r&&!r._initted&&r.data<=xe(i-e))return;St.inertia===false&&(l=n-o);g(i,{duration:Ye(xe(Math.max(xe(c-a),xe(n-a))*.185/s/.05||0)),ease:St.ease||"power3",data:xe(i-e),onInterrupt:function(){return Ve.restart(true)&&h&&h(Kt)},onComplete:function(){Kt.update();Qt=rr();f&&!Wt&&(Ce?Ce.resetTo("totalProgress",n,f._tTime/f._tDur):f.progress(n));we=_e=f&&!Wt?f.totalProgress():Kt.progress;_t&&_t(Kt);v&&v(Kt)}},e,l*N,i-e-l*N);d&&d(Kt,g.tween)}}})).pause()}ft&&(rt[ft]=Kt);ht=Kt.trigger=o(ht||gt!==true&&gt);nt=ht&&ht._gsap&&ht._gsap.stRevert;nt&&(nt=nt(Kt));gt=gt===true?ht:o(gt);he(lt)&&(lt={targets:ht,className:lt});if(gt){mt===false||mt===Re||(mt=!(!mt&&gt.parentNode&&gt.parentNode.style&&Ne(gt.parentNode).display==="flex")&&Oe);Kt.pin=gt;v=u.core.getCache(gt);if(v.spacer)D=v.pinState;else{if(Ot){Ot=o(Ot);Ot&&!Ot.nodeType&&(Ot=Ot.current||Ot.nativeElement);v.spacerIsNative=!!Ot;Ot&&(v.spacerState=At(Ot))}v.spacer=W=Ot||p.createElement("div");W.classList.add("pin-spacer");ft&&W.classList.add("pin-spacer-"+ft);v.pinState=D=At(gt)}s.force3D!==false&&u.set(gt,{force3D:true});Kt.spacer=W=v.spacer;de=Ne(gt);re=de[mt+Ht.os2];V=u.getProperty(gt);K=u.quickSetter(gt,Ht.a,Ie);Tt(gt,W,de);H=At(gt)}if(jt){B=me(jt)?Fe(jt,Ke):Ke;R=Qe("scroller-start",ft,Yt,Ht,B,0);z=Qe("scroller-end",ft,Yt,Ht,B,0,R);q=R["offset"+Ht.op.d2];var nr=o(e(Yt,"content")||Yt);M=this.markerStart=Qe("start",ft,nr,Ht,B,q,0,zt);O=this.markerEnd=Qe("end",ft,nr,Ht,B,q,0,zt);zt&&(et=u.quickSetter([M,O],Ht.a,Ie));if(!Ut&&!(t.length&&e(Yt,"fixedMarkers")===true)){De(qt?h:Yt);u.set([R,z],{force3D:true});ae=u.quickSetter(R,Ht.a,Ie);ue=u.quickSetter(z,Ht.a,Ie)}}if(zt){var ir=zt.vars.onUpdate,or=zt.vars.onUpdateParams;zt.eventCallback("onUpdate",(function(){Kt.update(0,0,1);ir&&ir.apply(zt,or||[])}))}Kt.previous=function(){return tt[tt.indexOf(Kt)-1]};Kt.next=function(){return tt[tt.indexOf(Kt)+1]};Kt.revert=function(e,t){if(!t)return Kt.kill(true);var r=e!==false||!Kt.enabled,n=w;if(r!==Kt.isReverted){if(r){Ge=Math.max(rr(),Kt.scroll.rec||0);tr=Kt.progress;$e=f&&f.progress()}M&&[M,O,R,z].forEach((function(e){return e.style.display=r?"none":"block"}));if(r){w=Kt;Kt.update(r)}!gt||Et&&Kt.isActive||(r?kt(gt,W,D):Tt(gt,W,Ne(gt),oe));r||Kt.update(r);w=n;Kt.isReverted=r}};Kt.refresh=function(e,t,n,c){if(!w&&Kt.enabled||t)if(gt&&e&&Z)Xe(l,"scrollEnd",ut);else{!U&&Zt&&Zt(Kt);w=Kt;if(g.tween&&!n){g.tween.kill();g.tween=0}Ce&&Ce.pause();if(yt&&f){f.revert({kill:false}).invalidate();f.getChildren&&f.getChildren(true,true,false).forEach((function(e){return e.vars.immediateRender&&e.render(0,true,true)}))}Kt.isReverted||Kt.revert(true,true);Kt._subPinOffset=false;var v,m,y,b,x,_,S,P,B,L,q,X,j,K=$t(),$=Jt(),Q=zt?zt.duration():pe(Yt,Ht),re=N<=.01||!N,ne=0,ie=c||0,ae=me(n)?n.end:s.end,se=s.endTrigger||ht,ue=me(n)?n.start:s.start||(s.start!==0&&ht?gt?"0 0":"0 100%":0),fe=Kt.pinnedContainer=s.pinnedContainer&&o(s.pinnedContainer,Kt),ce=ht&&Math.max(0,tt.indexOf(Kt))||0,de=ce;if(jt&&me(n)){X=u.getProperty(R,Ht.p);j=u.getProperty(z,Ht.p)}while(de-- >0){_=tt[de];_.end||_.refresh(0,1)||(w=Kt);S=_.pin;if(S&&(S===ht||S===gt||S===fe)&&!_.isReverted){L||(L=[]);L.unshift(_);_.revert(true,true)}if(_!==tt[de]){ce--;de--}}ge(ue)&&(ue=ue(Kt));ue=J(ue,"start",Kt);T=Rt(ue,ht,K,Ht,rr(),M,R,Kt,$,Gt,Ut,Q,zt,Kt._startClamp&&"_startClamp")||(gt?-.001:0);ge(ae)&&(ae=ae(Kt));if(he(ae)&&!ae.indexOf("+="))if(~ae.indexOf(" "))ae=(he(ue)?ue.split(" ")[0]:"")+ae;else{ne=Je(ae.substr(2),K);ae=he(ue)?ue:(zt?u.utils.mapRange(0,zt.duration(),zt.scrollTrigger.start,zt.scrollTrigger.end,T):T)+ne;se=ht}ae=J(ae,"end",Kt);E=Math.max(T,Rt(ae||(se?"100% 0":Q),se,K,Ht,rr()+ne,O,z,Kt,$,Gt,Ut,Q,zt,Kt._endClamp&&"_endClamp"))||-.001;ne=0;de=ce;while(de--){_=tt[de];S=_.pin;if(S&&_.start-_._pinPush<=T&&!zt&&_.end>0){v=_.end-(Kt._startClamp?Math.max(0,_.start):_.start);(S===ht&&_.start-_._pinPush<T||S===fe)&&isNaN(ue)&&(ne+=v*(1-_.progress));S===gt&&(ie+=v)}}T+=ne;E+=ne;Kt._startClamp&&(Kt._startClamp+=ne);if(Kt._endClamp&&!U){Kt._endClamp=E||-.001;E=Math.min(E,pe(Yt,Ht))}N=E-T||(T-=.01)&&.001;re&&(tr=u.utils.clamp(0,1,u.utils.normalize(T,E,Ge)));Kt._pinPush=ie;if(M&&ne){v={};v[Ht.a]="+="+ne;fe&&(v[Ht.p]="-="+rr());u.set([M,O],v)}if(!gt||Y&&Kt.end>=pe(Yt,Ht)){if(ht&&rr()&&!zt){m=ht.parentNode;while(m&&m!==h){if(m._pinOffset){T-=m._pinOffset;E-=m._pinOffset}m=m.parentNode}}}else{v=Ne(gt);b=Ht===r;y=rr();ee=parseFloat(V(Ht.a))+ie;if(!Q&&E>1){q=(qt?p.scrollingElement||d:Yt).style;q={style:q,value:q["overflow"+Ht.a.toUpperCase()]};qt&&Ne(h)["overflow"+Ht.a.toUpperCase()]!=="scroll"&&(q.style["overflow"+Ht.a.toUpperCase()]="scroll")}Tt(gt,W,v);H=At(gt);m=He(gt,true);P=Ut&&a(Yt,b?i:r)();if(mt){oe=[mt+Ht.os2,N+ie+Ie];oe.t=W;de=mt===Oe?We(gt,Ht)+N+ie:0;if(de){oe.push(Ht.d,de+Ie);W.style.flexBasis!=="auto"&&(W.style.flexBasis=de+Ie)}Pt(oe);fe&&tt.forEach((function(e){e.pin===fe&&e.vars.pinSpacing!==false&&(e._subPinOffset=true)}));Ut&&rr(Ge)}else{de=We(gt,Ht);de&&W.style.flexBasis!=="auto"&&(W.style.flexBasis=de+Ie)}if(Ut){x={top:m.top+(b?y-T:P)+Ie,left:m.left+(b?P:y-T)+Ie,boxSizing:"border-box",position:"fixed"};x[ke]=x["max"+ze]=Math.ceil(m.width)+Ie;x[Te]=x["max"+Be]=Math.ceil(m.height)+Ie;x[Re]=x[Re+Ae]=x[Re+Ee]=x[Re+Me]=x[Re+Pe]="0";x[Oe]=v[Oe];x[Oe+Ae]=v[Oe+Ae];x[Oe+Ee]=v[Oe+Ee];x[Oe+Me]=v[Oe+Me];x[Oe+Pe]=v[Oe+Pe];F=Mt(D,x,Et);U&&rr(0)}if(f){B=f._initted;A(1);f.render(f.duration(),true,true);te=V(Ht.a)-ee+N+ie;le=Math.abs(N-te)>1;Ut&&le&&F.splice(F.length-2,2);f.render(0,true,true);B||f.invalidate(true);f.parent||f.totalTime(f.totalTime());A(0)}else te=N;q&&(q.value?q.style["overflow"+Ht.a.toUpperCase()]=q.value:q.style.removeProperty("overflow-"+Ht.a))}L&&L.forEach((function(e){return e.revert(false,true)}));Kt.start=T;Kt.end=E;C=k=U?Ge:rr();if(!zt&&!U){C<Ge&&rr(Ge);Kt.scroll.rec=0}Kt.revert(false,true);er=G();if(Ve){Qt=-1;Ve.restart(true)}w=0;f&&Wt&&(f._initted||$e)&&f.progress()!==$e&&f.progress($e||0,true).render(f.time(),true,true);if(re||tr!==Kt.progress||zt||yt||f&&!f._initted){f&&!Wt&&(f._initted||tr||f.vars.immediateRender!==false)&&f.totalProgress(zt&&T<-.001&&!tr?u.utils.normalize(T,E,0):tr,true);Kt.progress=re||(C-T)/N===tr?0:tr}gt&&mt&&(W._pinOffset=Math.round(Kt.progress*te));Ce&&Ce.invalidate();if(!isNaN(X)){X-=u.getProperty(R,Ht.p);j-=u.getProperty(z,Ht.p);Nt(R,Ht,X);Nt(M,Ht,X-(c||0));Nt(z,Ht,j);Nt(O,Ht,j-(c||0))}re&&!U&&Kt.update();if(pt&&!U&&!I){I=true;pt(Kt);I=false}}};Kt.getVelocity=function(){return(rr()-k)/(G()-b)*1e3||0};Kt.endAnimation=function(){ye(Kt.callbackAnimation);f&&(Ce?Ce.progress(1):f.paused()?Wt||ye(f,Kt.direction<0,1):ye(f,f.reversed()))};Kt.labelToScroll=function(e){return f&&f.labels&&(T||Kt.refresh()||T)+f.labels[e]/f.duration()*N||0};Kt.getTrailing=function(e){var t=tt.indexOf(Kt),r=Kt.direction>0?tt.slice(0,t).reverse():tt.slice(t+1);return(he(e)?r.filter((function(t){return t.vars.preventOverlaps===e})):r).filter((function(e){return Kt.direction>0?e.end<=T:e.start>=E}))};Kt.update=function(e,t,n){if(!zt||n||e){var i,o,a,s,l,u,c,p,d=U===true?Ge:Kt.scroll(),v=e?0:(d-T)/N,y=v<0?0:v>1?1:v||0,x=Kt.progress;if(t){k=C;C=zt?rr():d;if(St){_e=we;we=f&&!Wt?f.totalProgress():y}}bt&&gt&&!w&&!j&&Z&&(!y&&T<d+(d-k)/(G()-b)*bt?y=1e-4:y===1&&E>d+(d-k)/(G()-b)*bt&&(y=.9999));if(y!==x&&Kt.enabled){i=Kt.isActive=!!y&&y<1;o=!!x&&x<1;u=i!==o;l=u||!!y!==!!x;Kt.direction=y>x?1:-1;Kt.progress=y;if(l&&!w){a=y&&!x?0:y===1?1:x===1?2:3;if(Wt){s=!u&&Xt[a+1]!=="none"&&Xt[a+1]||Xt[a];p=f&&(s==="complete"||s==="reset"||s in f)}}Ft&&(u||p)&&(p||dt||!f)&&(ge(Ft)?Ft(Kt):Kt.getTrailing(Ft).forEach((function(e){return e.endAnimation()})));if(!Wt)if(!Ce||w||j)f&&f.totalProgress(y,!!(w&&(er||e)));else{Ce._dp._time-Ce._start!==Ce._time&&Ce.render(Ce._dp._time-Ce._start);if(Ce.resetTo)Ce.resetTo("totalProgress",y,f._tTime/f._tDur);else{Ce.vars.totalProgress=y;Ce.invalidate().restart()}}if(gt){e&&mt&&(W.style[mt+Ht.os2]=re);if(Ut){if(l){c=!e&&y>x&&E+1>d&&d+1>=pe(Yt,Ht);if(Et)if(e||!i&&!c)Bt(gt,W);else{var _=He(gt,true),S=d-T;Bt(gt,h,_.top+(Ht===r?S:0)+Ie,_.left+(Ht===r?0:S)+Ie)}Pt(i||c?F:H);le&&y<1&&i||K(ee+(y!==1||c?0:te))}}else K(ie(ee+te*y))}St&&!g.tween&&!w&&!j&&Ve.restart(true);lt&&(u||Ct&&y&&(y<1||!L))&&m(lt.targets).forEach((function(e){return e.classList[i||Ct?"add":"remove"](lt.className)}));st&&!Wt&&!e&&st(Kt);if(l&&!w){if(Wt){p&&(s==="complete"?f.pause().totalProgress(1):s==="reset"?f.restart(true).pause():s==="restart"?f.restart(true):f[s]());st&&st(Kt)}if(u||!L){ct&&u&&be(Kt,ct);Vt[a]&&be(Kt,Vt[a]);Ct&&(y===1?Kt.kill(false,1):Vt[a]=0);if(!u){a=y===1?1:3;Vt[a]&&be(Kt,Vt[a])}}if(It&&!i&&Math.abs(Kt.getVelocity())>(ve(It)?It:2500)){ye(Kt.callbackAnimation);Ce?Ce.progress(1):ye(f,s==="reverse"?1:!y,1)}}else Wt&&st&&!w&&st(Kt)}if(ue){var P=zt?d/zt.duration()*(zt._caScrollDist||0):d;ae(P+(R._isFlipped?1:0));ue(P)}et&&et(-d/zt.duration()*(zt._caScrollDist||0))}};Kt.enable=function(e,t){if(!Kt.enabled){Kt.enabled=true;Xe(Yt,"resize",at);qt||Xe(Yt,"scroll",it);Zt&&Xe(l,"refreshInit",Zt);if(e!==false){Kt.progress=tr=0;C=k=Qt=rr()}t!==false&&Kt.refresh()}};Kt.getTween=function(e){return e&&g?g.tween:Ce};Kt.setPositions=function(e,t,r,n){if(zt){var i=zt.scrollTrigger,o=zt.duration(),a=i.end-i.start;e=i.start+a*e/o;t=i.start+a*t/o}Kt.refresh(false,false,{start:Q(e,r&&!!Kt._startClamp),end:Q(t,r&&!!Kt._endClamp)},n);Kt.update()};Kt.adjustPinSpacing=function(e){if(oe&&e){var t=oe.indexOf(Ht.d)+1;oe[t]=parseFloat(oe[t])+e+Ie;oe[1]=parseFloat(oe[1])+e+Ie;Pt(oe)}};Kt.disable=function(e,t){if(Kt.enabled){e!==false&&Kt.revert(true,true);Kt.enabled=Kt.isActive=false;t||Ce&&Ce.pause();Ge=0;v&&(v.uncache=1);Zt&&je(l,"refreshInit",Zt);if(Ve){Ve.pause();g.tween&&g.tween.kill()&&(g.tween=0)}if(!qt){var r=tt.length;while(r--)if(tt[r].scroller===Yt&&tt[r]!==Kt)return;je(Yt,"resize",at);qt||je(Yt,"scroll",it)}}};Kt.kill=function(e,t){Kt.disable(e,t);Ce&&!t&&Ce.kill();ft&&delete rt[ft];var r=tt.indexOf(Kt);r>=0&&tt.splice(r,1);r===S&&wt>0&&S--;r=0;tt.forEach((function(e){return e.scroller===Kt.scroller&&(r=1)}));r||U||(Kt.scroll.rec=0);if(f){f.scrollTrigger=null;e&&f.revert({kill:false});t||f.kill()}M&&[M,O,R,z].forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)}));X===Kt&&(X=0);if(gt){v&&(v.uncache=1);r=0;tt.forEach((function(e){return e.pin===gt&&r++}));r||(v.spacer=0)}s.onKill&&s.onKill(Kt)};tt.push(Kt);Kt.enable(false,false);nt&&nt(Kt);if(f&&f.add&&!N){var ar=Kt.update;Kt.update=function(){Kt.update=ar;n.cache++;T||E||Kt.refresh()};u.delayedCall(.01,Kt.update);N=.01;T=E=0}else Kt.refresh();gt&&vt()}else this.update=this.refresh=this.kill=ne};l.register=function(e){if(!f){u=e||ae();oe()&&window.document&&l.enable();f=$}return f};l.defaults=function(e){if(e)for(var t in e)Ze[t]=e[t];return Ze};l.disable=function(e,t){$=0;tt.forEach((function(r){return r[t?"kill":"disable"](e)}));je(c,"wheel",it);je(p,"scroll",it);clearInterval(x);je(p,"touchcancel",ne);je(h,"touchstart",ne);Ve(je,p,"pointerdown,touchstart,mousedown",te);Ve(je,p,"pointerup,touchend,mouseup",re);v.kill();de(je);for(var r=0;r<n.length;r+=3){Ge(je,n[r],n[r+1]);Ge(je,n[r],n[r+2])}};l.enable=function(){c=window;p=document;d=p.documentElement;h=p.body;if(u){m=u.utils.toArray;y=u.utils.clamp;N=u.core.context||ne;A=u.core.suppressOverwrites||ne;D=c.history.scrollRestoration||"auto";xt=c.pageYOffset||0;u.core.globals("ScrollTrigger",l);if(h){$=1;F=document.createElement("div");F.style.height="100vh";F.style.position="absolute";mt();ee();s.register(u);l.isTouch=s.isTouch;I=s.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent);R=s.isTouch===1;Xe(c,"wheel",it);g=[c,p,d,h];if(u.matchMedia){l.matchMedia=function(e){var t,r=u.matchMedia();for(t in e)r.add(t,e[t]);return r};u.addEventListener("matchMediaInit",(function(){return dt()}));u.addEventListener("matchMediaRevert",(function(){return pt()}));u.addEventListener("matchMedia",(function(){bt(0,1);ft("matchMedia")}));u.matchMedia().add("(orientation: portrait)",(function(){ot();return ot}))}else console.warn("Requires GSAP 3.11.0 or later");ot();Xe(p,"scroll",it);var e,t,o=h.hasAttribute("style"),a=h.style,b=a.borderTopStyle,w=u.core.Animation.prototype;w.revert||Object.defineProperty(w,"revert",{value:function(){return this.time(-.01,true)}});a.borderTopStyle="solid";e=He(h);r.m=Math.round(e.top+r.sc())||0;i.m=Math.round(e.left+i.sc())||0;b?a.borderTopStyle=b:a.removeProperty("border-top-style");if(!o){h.setAttribute("style","");h.removeAttribute("style")}x=setInterval(nt,250);u.delayedCall(.5,(function(){return j=0}));Xe(p,"touchcancel",ne);Xe(h,"touchstart",ne);Ve(Xe,p,"pointerdown,touchstart,mousedown",te);Ve(Xe,p,"pointerup,touchend,mouseup",re);C=u.utils.checkPrefix("transform");St.push(C);f=G();v=u.delayedCall(.2,bt).pause();E=[p,"visibilitychange",function(){var e=c.innerWidth,t=c.innerHeight;if(p.hidden){k=e;T=t}else k===e&&T===t||at()},p,"DOMContentLoaded",bt,c,"load",bt,c,"resize",at];de(Xe);tt.forEach((function(e){return e.enable(0,1)}));for(t=0;t<n.length;t+=3){Ge(je,n[t],n[t+1]);Ge(je,n[t],n[t+2])}}}};l.config=function(e){"limitCallbacks"in e&&(L=!!e.limitCallbacks);var t=e.syncInterval;t&&clearInterval(x)||(x=t)&&setInterval(nt,t);"ignoreMobileResize"in e&&(R=l.isTouch===1&&e.ignoreMobileResize);if("autoRefreshEvents"in e){de(je)||de(Xe,e.autoRefreshEvents||"none");M=(e.autoRefreshEvents+"").indexOf("resize")===-1}};l.scrollerProxy=function(e,r){var i=o(e),a=n.indexOf(i),s=se(i);~a&&n.splice(a,s?6:2);r&&(s?t.unshift(c,r,h,r,d,r):t.unshift(i,r))};l.clearMatchMedia=function(e){tt.forEach((function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(true,true)}))};l.isInViewport=function(e,t,r){var n=(he(e)?o(e):e).getBoundingClientRect(),i=n[r?ke:Te]*t||0;return r?n.right-i>0&&n.left+i<c.innerWidth:n.bottom-i>0&&n.top+i<c.innerHeight};l.positionInViewport=function(e,t,r){he(e)&&(e=o(e));var n=e.getBoundingClientRect(),i=n[r?ke:Te],a=t==null?i/2:t in $e?$e[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return r?(n.left+a)/c.innerWidth:(n.top+a)/c.innerHeight};l.killAll=function(e){tt.slice(0).forEach((function(e){return e.vars.id!=="ScrollSmoother"&&e.kill()}));if(e!==true){var t=st.killAll||[];st={};t.forEach((function(e){return e()}))}};return l}();Ft.version="3.13.0";Ft.saveStyles=function(e){return e?m(e).forEach((function(e){if(e&&e.style){var t=ct.indexOf(e);t>=0&&ct.splice(t,5);ct.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),u.core.getCache(e),N())}})):ct};Ft.revert=function(e,t){return dt(!e,t)};Ft.create=function(e,t){return new Ft(e,t)};Ft.refresh=function(e){return e?at(true):(f||Ft.register())&&bt(true)};Ft.update=function(e){return++n.cache&&_t(e===true?2:0)};Ft.clearScrollMemory=ht;Ft.maxScroll=function(e,t){return pe(e,t?i:r)};Ft.getScrollFunc=function(e,t){return a(o(e),t?i:r)};Ft.getById=function(e){return rt[e]};Ft.getAll=function(){return tt.filter((function(e){return e.vars.id!=="ScrollSmoother"}))};Ft.isScrolling=function(){return!!Z};Ft.snapDirectional=qe;Ft.addEventListener=function(e,t){var r=st[e]||(st[e]=[]);~r.indexOf(t)||r.push(t)};Ft.removeEventListener=function(e,t){var r=st[e],n=r&&r.indexOf(t);n>=0&&r.splice(n,1)};Ft.batch=function(e,t){var r,n=[],i={},o=t.interval||.016,a=t.batchMax||1e9,s=function(e,t){var r=[],n=[],i=u.delayedCall(o,(function(){t(r,n);r=[];n=[]})).pause();return function(e){r.length||i.restart(true);r.push(e.trigger);n.push(e);a<=r.length&&i.progress(1)}};for(r in t)i[r]=r.substr(0,2)==="on"&&ge(t[r])&&r!=="onRefreshInit"?s(r,t[r]):t[r];if(ge(a)){a=a();Xe(Ft,"refresh",(function(){return a=t.batchMax()}))}m(e).forEach((function(e){var t={};for(r in i)t[r]=i[r];t.trigger=e;n.push(Ft.create(t))}));return n};var Ht,Wt=function(e,t,r,n){t>n?e(n):t<0&&e(0);return r>n?(n-t)/(r-t):r<0?t/(t-r):1},Yt=function e(t,r){r===true?t.style.removeProperty("touch-action"):t.style.touchAction=r===true?"auto":r?"pan-"+r+(s.isTouch?" pinch-zoom":""):"none";t===d&&e(h,r)},Lt={auto:1,scroll:1},qt=function(e){var t=e.event,r=e.target,n=e.axis;var i,o=(t.changedTouches?t.changedTouches[0]:t).target,a=o._gsap||u.core.getCache(o),s=G();if(!a._isScrollT||s-a._isScrollT>2e3){while(o&&o!==h&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(Lt[(i=Ne(o)).overflowY]||Lt[i.overflowX])))o=o.parentNode;a._isScroll=o&&o!==r&&!se(o)&&(Lt[(i=Ne(o)).overflowY]||Lt[i.overflowX]);a._isScrollT=s}if(a._isScroll||n==="x"){t.stopPropagation();t._gsapAllow=true}},Ut=function(e,t,r,n){return s.create({target:e,capture:true,debounce:false,lockAxis:true,type:t,onWheel:n=n&&qt,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return r&&Xe(p,s.eventTypes[0],Xt,false,true)},onDisable:function(){return je(p,s.eventTypes[0],Xt,true)}})},Vt=/(input|label|select|textarea)/i,Xt=function(e){var t=Vt.test(e.target.tagName);if(t||Ht){e._gsapAllow=true;Ht=t}},jt=function(e){me(e)||(e={});e.preventDefault=e.isNormalizer=e.allowClicks=true;e.type||(e.type="wheel,touch");e.debounce=!!e.debounce;e.id=e.id||"normalizer";var t,l,f,p,h,g,v,m,b=e,x=b.normalizeScrollX,w=b.momentum,_=b.allowNestedScroll,C=b.onRelease,S=o(e.target)||d,k=u.core.globals().ScrollSmoother,T=k&&k.get(),E=I&&(e.content&&o(e.content)||T&&e.content!==false&&!T.smooth()&&T.content()),P=a(S,r),A=a(S,i),M=1,O=(s.isTouch&&c.visualViewport?c.visualViewport.scale*c.visualViewport.width:c.outerWidth)/c.innerWidth,R=0,z=ge(w)?function(){return w(t)}:function(){return w||2.8},B=Ut(S,e.type,true,_),N=function(){return p=false},D=ne,F=ne,H=function(){l=pe(S,r);F=y(I?1:0,l);x&&(D=y(0,pe(S,i)));f=gt},W=function(){E._gsap.y=ie(parseFloat(E._gsap.y)+P.offset)+"px";E.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(E._gsap.y)+", 0, 1)";P.offset=P.cacheID=0},Y=function(){if(p){requestAnimationFrame(N);var e=ie(t.deltaY/2),r=F(P.v-e);if(E&&r!==P.v+P.offset){P.offset=r-P.v;var i=ie((parseFloat(E&&E._gsap.y)||0)-P.offset);E.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+i+", 0, 1)";E._gsap.y=i+"px";P.cacheID=n.cache;_t()}return true}P.offset&&W();p=true},L=function(){H();h.isActive()&&h.vars.scrollY>l&&(P()>l?h.progress(1)&&P(l):h.resetTo("scrollY",l))};E&&u.set(E,{y:"+=0"});e.ignoreCheck=function(e){return I&&e.type==="touchmove"&&Y(e)||M>1.05&&e.type!=="touchstart"||t.isGesturing||e.touches&&e.touches.length>1};e.onPress=function(){p=false;var e=M;M=ie((c.visualViewport&&c.visualViewport.scale||1)/O);h.pause();e!==M&&Yt(S,M>1.01||!x&&"x");g=A();v=P();H();f=gt};e.onRelease=e.onGestureStart=function(e,t){P.offset&&W();if(t){n.cache++;var o,a,s=z();if(x){o=A();a=o+s*.05*-e.velocityX/.227;s*=Wt(A,o,a,pe(S,i));h.vars.scrollX=D(a)}o=P();a=o+s*.05*-e.velocityY/.227;s*=Wt(P,o,a,pe(S,r));h.vars.scrollY=F(a);h.invalidate().duration(s).play(.01);(I&&h.vars.scrollY>=l||o>=l-1)&&u.to({},{onUpdate:L,duration:s})}else m.restart(true);C&&C(e)};e.onWheel=function(){h._ts&&h.pause();if(G()-R>1e3){f=0;R=G()}};e.onChange=function(e,t,r,n,i){gt!==f&&H();t&&x&&A(D(n[2]===t?g+(e.startX-e.x):A()+t-n[1]));if(r){P.offset&&W();var o=i[2]===r,a=o?v+e.startY-e.y:P()+r-i[1],s=F(a);o&&a!==s&&(v+=s-a);P(s)}(r||t)&&_t()};e.onEnable=function(){Yt(S,!x&&"x");Ft.addEventListener("refresh",L);Xe(c,"resize",L);if(P.smooth){P.target.style.scrollBehavior="auto";P.smooth=A.smooth=false}B.enable()};e.onDisable=function(){Yt(S,true);je(c,"resize",L);Ft.removeEventListener("refresh",L);B.kill()};e.lockAxis=e.lockAxis!==false;t=new s(e);t.iOS=I;I&&!P()&&P(1);I&&u.ticker.add(ne);m=t._dc;h=u.to(t,{ease:"power4",paused:true,inherit:false,scrollX:x?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:It(P,P(),(function(){return h.pause()}))},onUpdate:_t,onComplete:m.vars.onComplete});return t};Ft.sort=function(e){if(ge(e))return tt.sort(e);var t=c.pageYOffset||0;Ft.getAll().forEach((function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+c.innerHeight}));return tt.sort(e||function(e,t){return(e.vars.refreshPriority||0)*-1e6+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+(t.vars.refreshPriority||0)*-1e6)})};Ft.observe=function(e){return new s(e)};Ft.normalizeScroll=function(e){if(typeof e==="undefined")return O;if(e===true&&O)return O.enable();if(e!==false){var t=e instanceof s?e:jt(e);O&&O.target===t.target&&O.kill();se(t.target)&&(O=t);return t}O&&O.kill();O=e};Ft.core={_getVelocityProp:l,_inputObserver:Ut,_scrollers:n,_proxies:t,bridge:{ss:function(){Z||ft("scrollStart");Z=G()},ref:function(){return w}}};ae()&&u.registerPlugin(Ft);export{Ft as ScrollTrigger,Ft as default};

